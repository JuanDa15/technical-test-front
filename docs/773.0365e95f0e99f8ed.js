"use strict";(self.webpackChunktechnical_test_front=self.webpackChunktechnical_test_front||[]).push([[773],{7773:(ra,g,l)=>{l.r(g),l.d(g,{HotelModule:()=>na});var s=l(6814),u=l(3057),a=l(4946),C=l(7398),S=l(6306),P=l(2096),h=l(5516),f=l(9862);let b=(()=>{class o{get hotels(){return this._hotels.asReadonly()}constructor(e){this._http=e,this._URL=`${h.N.API}api/hotels`,this._hotels=(0,a.tdS)([])}createHotel(e){return this._http.post(this._URL,e)}updateHotel(e,t){return this._http.patch(`${this._URL}/${e}`,t)}getHotels(){return this._http.get(this._URL+"/priv").pipe((0,C.U)(({data:e})=>{const{data:t}=e;return this._hotels.set(t),!0}),(0,S.K)(()=>(0,P.of)(!1)))}}return o.\u0275fac=function(e){return new(e||o)(a.LFG(f.eN))},o.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var M=l(2582),m=l(3259);const A=function(o,n){return{"text-success":o,"text-error":n}};function T(o,n){if(1&o&&(a.TgZ(0,"article",8)(1,"header")(2,"h2"),a._uU(3),a.ALo(4,"titlecase"),a.qZA(),a.TgZ(5,"small"),a._uU(6),a.qZA()(),a.TgZ(7,"main")(8,"p")(9,"b"),a._uU(10,"Ubicaci\xf3n:"),a.qZA(),a._uU(11),a.qZA(),a.TgZ(12,"p")(13,"b"),a._uU(14,"Direcci\xf3n:"),a.qZA(),a._uU(15),a.qZA(),a.TgZ(16,"p")(17,"b"),a._uU(18,"Habitaciones:"),a.qZA(),a.TgZ(19,"span")(20,"span",9),a._uU(21),a.qZA(),a._uU(22," / "),a.TgZ(23,"span",10),a._uU(24),a.qZA()()(),a.TgZ(25,"p")(26,"b"),a._uU(27,"Estado: "),a.qZA(),a.TgZ(28,"span",11),a._uU(29),a.qZA()()(),a.TgZ(30,"footer")(31,"a",12),a.O4$(),a.TgZ(32,"svg",13),a._UZ(33,"path",14)(34,"path",15),a.qZA()()()()),2&o){const e=n.$implicit,t=a.oxw(3);a.xp6(3),a.Oqu(a.lcZ(4,9,e.name)),a.xp6(3),a.Oqu(e.email),a.xp6(5),a.hij(" ",e.location,""),a.xp6(4),a.hij(" ",e.address,""),a.xp6(6),a.hij(" ",e.rooms.length," "),a.xp6(3),a.hij(" ",e.availableRooms," "),a.xp6(4),a.Q6J("ngClass",a.WLB(11,A,e.enabled,!e.enabled)),a.xp6(1),a.hij(" ",t.getStatusTranslated(e.enabled)," "),a.xp6(2),a.MGl("routerLink","/priv/hotel/update/",e._id,"")}}function y(o,n){if(1&o&&(a.ynx(0),a.TgZ(1,"section",6),a.YNc(2,T,35,14,"article",7),a.qZA(),a.BQk()),2&o){const e=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",e.hotelService.hotels())}}function L(o,n){if(1&o&&(a.ynx(0),a.YNc(1,y,3,1,"ng-container",3),a.BQk()),2&o){const e=a.oxw(),t=a.MAs(10);a.xp6(1),a.Q6J("ngIf",e.hotelService.hotels().length>0)("ngIfElse",t)}}function x(o,n){1&o&&(a.TgZ(0,"div",16),a._UZ(1,"loader"),a.qZA())}function D(o,n){1&o&&(a.TgZ(0,"p",17),a._uU(1," No se encuentran hoteles registrados, "),a.TgZ(2,"a",2),a._uU(3,"clic aqu\xed para crear uno"),a.qZA()())}let O=(()=>{class o{constructor(){this.hotelService=(0,a.f3M)(b),this.loading=(0,a.tdS)(!1),this.statusDicc={false:"Inactivo",true:"Activo"}}ngOnInit(){this.loading.set(!0),this.hotelService.getHotels().subscribe({next:()=>{this.loading.set(!1)}})}getStatusTranslated(e){return this.statusDicc[`${e}`]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-list"]],decls:11,vars:2,consts:[[1,"content-container"],[1,"shortcut"],["routerLink","/priv/hotel/create"],[4,"ngIf","ngIfElse"],["loader",""],["noData",""],[1,"hotels__list"],["class","hotels__list-item",4,"ngFor","ngForOf"],[1,"hotels__list-item"],["pTooltip","Totales"],["pTooltip","Disponibles"],[1,"text",3,"ngClass"],["pTooltip","Ver hotel",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",2,"width","32px"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"loader-wrapper"],[1,"no-data"]],template:function(e,t){if(1&e&&(a.TgZ(0,"section",0)(1,"h1"),a._uU(2,"Lista de hoteles"),a.qZA(),a.TgZ(3,"div",1)(4,"a",2),a._uU(5,"Crear hotel"),a.qZA()(),a.YNc(6,L,2,2,"ng-container",3),a.qZA(),a.YNc(7,x,2,0,"ng-template",null,4,a.W1O),a.YNc(9,D,4,0,"ng-template",null,5,a.W1O)),2&e){const i=a.MAs(8);a.xp6(6),a.Q6J("ngIf",!t.loading())("ngIfElse",i)}},dependencies:[s.mk,s.sg,s.O5,u.rH,M.R,m.u,s.rS],styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;margin-bottom:2rem}.hotels__list[_ngcontent-%COMP%]{list-style:none;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.hotels__list-item[_ngcontent-%COMP%]{border:1px solid #37474f;border-radius:.3rem;padding:0 .5rem}.hotels__list-item[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid var(--primary)}.hotels__list-item[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem;display:flex;flex-direction:column;gap:.5rem}.hotels__list-item[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.hotels__list-item[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;padding:.5rem 0}.hotels__list-item[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#ff6f00;color:var(--text);padding:.2rem .4rem;border-radius:.8rem}.loader-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;place-items:center}.text[_ngcontent-%COMP%]{color:var(--text);font-weight:700;padding:.3rem .6rem;border-radius:5rem}.text-success[_ngcontent-%COMP%]{background-color:var(--success)}.text-error[_ngcontent-%COMP%]{background-color:var(--error)}.no-data[_ngcontent-%COMP%]{background-color:#64b5f6;color:#0d47a1;border:1px solid #0d47a1;padding:1rem;border-radius:.5rem;font-weight:600}.no-data[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary)}.shortcut[_ngcontent-%COMP%]{margin:1rem 0;display:flex;justify-content:center}.shortcut[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:var(--primary);color:var(--text);text-decoration:none;padding:.3rem 1rem;border-radius:1rem}"]}),o})();var r=l(95),B=l(4664),Z=l(9200),j=l(4942);let F=(()=>{class o{get hotel(){return this._hotel.asReadonly()}constructor(e){this._http=e,this._URL=`${h.N.API}api/hotels`,this._hotel=(0,a.tdS)(null)}getHotel(e){return this._http.get(`${this._URL}/${e}`).pipe((0,C.U)(t=>(this._hotel.set(t.data),!0)))}}return o.\u0275fac=function(e){return new(e||o)(a.LFG(f.eN))},o.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var _=l(2331),G=l(868);const R=[{id:0,departamento:"Amazonas",ciudades:["Leticia","Puerto Nari\xf1o","El Encanto","La Chorrera","La Pedrera","La Victoria","Miriti - Paran\xe1","Puerto Alegr\xeda","Puerto Arica","Puerto Santander","Tarapac\xe1"],indicativo_fijo:"608"},{id:1,departamento:"Antioquia",ciudades:["Abejorral","Abriaqu\xed","Alejandr\xeda","Amag\xe1","Amalfi","Andes","Angel\xf3polis","Angostura","Anor\xed","Anza","Apartad\xf3","Arboletes","Argelia","Armenia","Barbosa","Bello","Belmira","Betania","Betulia","Brice\xf1o","Buritic\xe1","C\xe1ceres","Caicedo","Caldas","Campamento","Ca\xf1asgordas","Caracol\xed","Caramanta","Carepa","Carolina","Caucasia","Chigorod\xf3","Cisneros","Ciudad Bol\xedvar","Cocorn\xe1","Concepci\xf3n","Concordia","Copacabana","Dabeiba","Don Mat\xedas","Eb\xe9jico","El Bagre","El Carmen De Viboral","Pe\xf1ol","Retiro","El Santuario","Entrerrios","Envigado","Fredonia","Frontino","Giraldo","Girardota","G\xf3mez Plata","Granada","Guadalupe","Guarne","Guatape","Heliconia","Hispania","Itagui","Ituango","Jard\xedn","Jeric\xf3","La Ceja","La Estrella","La Pintada","La Uni\xf3n","Liborina","Maceo","Marinilla","Medell\xedn","Montebello","Murind\xf3","Mutat\xe1","Nari\xf1o","Nech\xed","Necocl\xed","Olaya","Peque","Pueblorrico","Puerto Berr\xedo","Puerto Nare","Puerto Triunfo","Remedios","Rionegro","Sabanalarga","Sabaneta","Salgar","San Andr\xe9s","San Carlos","San Francisco","San Jer\xf3nimo","San Jos\xe9 De La Monta\xf1a","San Juan De Urab\xe1","San Luis","San Pedro De Uraba","San Pedro","San Rafael","San Roque","San Vicente","Santa B\xe1rbara","Santaf\xe9 De Antioquia","Santa Rosa De Osos","Santo Domingo","Segovia","Sonson","Sopetr\xe1n","T\xe1mesis","Taraz\xe1","Tarso","Titirib\xed","Toledo","Turbo","Uramita","Urrao","Valdivia","Valpara\xedso","Vegach\xed","Venecia","Vig\xeda Del Fuerte","Yal\xed","Yarumal","Yolomb\xf3","Yond\xf3","Zaragoza"],indicativo_fijo:"604"},{id:2,departamento:"Arauca",ciudades:["Arauca","Arauquita","Cravo Norte","Fortul","Puerto Rond\xf3n","Saravena","Tame"],indicativo_fijo:"607"},{id:3,departamento:"Atl\xe1ntico",ciudades:["Baranoa","Barranquilla","Campo De La Cruz","Candelaria","Galapa","Juan De Acosta","Luruaco","Malambo","Manat\xed","Palmar De Varela","Pioj\xf3","Polonuevo","Ponedera","Puerto Colombia","Repel\xf3n","Sabanagrande","Sabanalarga","Santa Luc\xeda","Santo Tom\xe1s","Soledad","Suan","Tubar\xe1","Usiacur\xed"],indicativo_fijo:"605"},{id:4,departamento:"Bol\xedvar",ciudades:["Ach\xed","Altos Del Rosario","Arenal","Arjona","Arroyohondo","Barranco De Loba","Brazuelo De Papayal","Calamar","Cantagallo","Cartagena","Cicuco","Clemencia","C\xf3rdoba","El Carmen De Bol\xedvar","El Guamo","El Pe\xf1\xf3n","Hatillo De Loba","Magangu\xe9","Mahates","Margarita","Mar\xeda La Baja","Momp\xf3s","Montecristo","Morales","Noros\xed","Pinillos","Regidor","R\xedo Viejo","San Crist\xf3bal","San Estanislao","San Fernando","San Jacinto Del Cauca","San Jacinto","San Juan Nepomuceno","San Mart\xedn De Loba","San Pablo","Santa Catalina","Santa Rosa","Santa Rosa Del Sur","Simit\xed","Soplaviento","Talaigua Nuevo","Tiquisio","Turbaco","Turban\xe1","Villanueva","Zambrano"],indicativo_fijo:"605"},{id:5,departamento:"Boyac\xe1",ciudades:["Almeida","Aquitania","Arcabuco","Bel\xe9n","Berbeo","Bet\xe9itiva","Boavita","Boyac\xe1","Brice\xf1o","Buenavista","Busbanz\xe1","Caldas","Campohermoso","Cerinza","Chinavita","Chiquinquir\xe1","Ch\xedquiza","Chiscas","Chita","Chitaraque","Chivat\xe1","Chivor","Ci\xe9nega","C\xf3mbita","Coper","Corrales","Covarach\xeda","Cubar\xe1","Cucaita","Cu\xedtiva","Duitama","El Cocuy","El Espino","Firavitoba","Floresta","Gachantiv\xe1","G\xe1meza","Garagoa","Guacamayas","Guateque","Guayat\xe1","G\xfcic\xe1n","Iza","Jenesano","Jeric\xf3","La Capilla","La Uvita","La Victoria","Labranzagrande","Macanal","Marip\xed","Miraflores","Mongua","Mongu\xed","Moniquir\xe1","Motavita","Muzo","Nobsa","Nuevo Col\xf3n","Oicat\xe1","Otanche","Pachavita","P\xe1ez","Paipa","Pajarito","Panqueba","Pauna","Paya","Paz De R\xedo","Pesca","Pisba","Puerto Boyac\xe1","Qu\xedpama","Ramiriqu\xed","R\xe1quira","Rond\xf3n","Saboy\xe1","S\xe1chica","Samac\xe1","San Eduardo","San Jos\xe9 De Pare","San Luis De Gaceno","San Mateo","San Miguel De Sema","San Pablo De Borbur","Santa Mar\xeda","Santa Rosa De Viterbo","Santa Sof\xeda","Santana","Sativanorte","Sativasur","Siachoque","Soat\xe1","Socha","Socot\xe1","Sogamoso","Somondoco","Sora","Sorac\xe1","Sotaquir\xe1","Susac\xf3n","Sutamarch\xe1n","Sutatenza","Tasco","Tenza","Tiban\xe1","Tibasosa","Tinjac\xe1","Tipacoque","Toca","Tog\xfc\xed","T\xf3paga","Tota","Tunja","Tunungu\xe1","Turmequ\xe9","Tuta","Tutaz\xe1","\xdambita","Ventaquemada","Villa De Leyva","Viracach\xe1","Zetaquira","Gameza","Umbita"],indicativo_fijo:"608"},{id:6,departamento:"Caldas",ciudades:["Aguadas","Anserma","Aranzazu","Belalc\xe1zar","Chinchin\xe1","Filadelfia","La Dorada","La Merced","Manizales","Manzanares","Marmato","Marquetalia","Marulanda","Neira","Norcasia","P\xe1cora","Palestina","Pensilvania","Riosucio","Risaralda","Salamina","Saman\xe1","San Jos\xe9","Sup\xeda","Victoria","Villamar\xeda","Viterbo"],indicativo_fijo:"606"},{id:7,departamento:"Caquet\xe1",ciudades:["Albania","Bel\xe9n De Los Andaqu\xedes","Cartagena Del Chair\xe1","Curillo","El Doncello","El Paujil","Florencia","La Monta\xf1ita","Mil\xe1n","Morelia","Puerto Rico","San Jos\xe9 Del Fragua","San Vicente Del Cagu\xe1n","Solano","Solita","Valpara\xedso"],indicativo_fijo:"608"},{id:8,departamento:"Casanare",ciudades:["Aguazul","Chameza","Hato Corozal","La Salina","Man\xed","Monterrey","Nunch\xeda","Orocu\xe9","Paz De Ariporo","Pore","Recetor","Sabanalarga","S\xe1cama","San Luis De Palenque","T\xe1mara","Tauramena","Trinidad","Villanueva","Yopal"],indicativo_fijo:"608"},{id:9,departamento:"Cauca",ciudades:["Almaguer","Argelia","Balboa","Bol\xedvar","Buenos Aires","Cajib\xedo","Caldono","Caloto","Corinto","El Tambo","Florencia","Guachen\xe9","Guap\xed","Inz\xe1","Jambal\xf3","La Sierra","La Vega","L\xf3pez De Micay","Mercaderes","Miranda","Morales","Padilla","P\xe1ez","Pat\xeda","Piamonte","Piendam\xf3","Popay\xe1n","Puerto Tejada","Purac\xe9","Rosas","San Sebasti\xe1n","Santa Rosa","Santander De Quilichao","Silvia","Sotar\xe1","Su\xe1rez","Sucre","Timb\xedo","Timbiqu\xed","Toribio","Totor\xf3","Villa Rica","Guapi","L\xf3pez","Paez","Sotara"],indicativo_fijo:"602"},{id:10,departamento:"Cesar",ciudades:["Aguachica","Agust\xedn Codazzi","Astrea","Becerril","Bosconia","Chimichagua","Chiriguan\xe1","Curuman\xed","El Copey","El Paso","Gamarra","Gonz\xe1lez","La Gloria","La Jagua De Ibirico","La Paz","Manaure Balc\xf3n Del Cesar","Pailitas","Pelaya","Pueblo Bello","R\xedo De Oro","San Alberto","San Diego","San Mart\xedn","Tamalameque","Valledupar","Manaure"],indicativo_fijo:"605"},{id:11,departamento:"Choc\xf3",ciudades:["Acand\xed","Alto Baud\xf3","Bagad\xf3","Bah\xeda Solano","Bajo Baud\xf3","Bojay\xe1","Cant\xf3n De San Pablo","C\xe9rtegui","Condoto","El Atrato","El Carmen De Atrato","El Carmen Del Dari\xe9n","Istmina","Jurad\xf3","Litoral De San Juan","Llor\xf3","Medio Atrato","Medio Baud\xf3","Medio San Juan","N\xf3vita","Nuqu\xed","Quibd\xf3","R\xedo Ir\xf3","R\xedo Quito","Riosucio","San Jos\xe9 Del Palmar","Sip\xed","Tad\xf3","Uni\xf3n Panamericana","Ungu\xeda","Alto Baudo","Atrato","Bel\xe9n De Bajir\xe1","Bojaya","Carmen Del Darien","El Cant\xf3n Del San Pablo","El Litoral Del San Juan","R\xedo Iro"],indicativo_fijo:"604"},{id:12,departamento:"Cundinamarca",ciudades:["Agua De Dios","Alb\xe1n","Anapoima","Anolaima","Apulo","Arbel\xe1ez","Beltr\xe1n","Bituima","Bogot\xe1","Bojac\xe1","Cabrera","Cachipay","Cajic\xe1","Caparrap\xed","C\xe1queza","Carmen De Carupa","Chaguan\xed","Ch\xeda","Chipaque","Choach\xed","Chocont\xe1","Cogua","Cota","Cucunub\xe1","El Colegio","El Pe\xf1\xf3n","El Rosal","Facatativ\xe1","F\xf3meque","Fosca","Funza","F\xfaquene","Fusagasug\xe1","Gachal\xe1","Gachancip\xe1","Gachet\xe1","Gama","Girardot","Granada","Guachet\xe1","Guaduas","Guasca","Guataqu\xed","Guatavita","Guayabal De S\xedquima","Guayabetal","Guti\xe9rrez","Jerusal\xe9n","Jun\xedn","La Calera","La Mesa","La Palma","La Pe\xf1a","La Vega","Lenguazaque","Machet\xe1","Madrid","Manta","Medina","Mosquera","Nari\xf1o","Nemoc\xf3n","Nilo","Nimaima","Nocaima","Pacho","Paime","Pandi","Paratebueno","Pasca","Puerto Salgar","Pul\xed","Quebradanegra","Quetame","Quipile","Ricaurte","San Antonio Del Tequendama","San Bernardo","San Cayetano","San Francisco","San Juan De Rioseco","Sasaima","Sesquil\xe9","Sibat\xe9","Silvania","Simijaca","Soacha","Sop\xf3","Subachoque","Suesca","Supat\xe1","Susa","Sutatausa","Tabio","Tausa","Tena","Tenjo","Tibacuy","Tibirita","Tocaima","Tocancip\xe1","Topaip\xed","Ubal\xe1","Ubaque","Ubat\xe9","Une","\xdatica","Venecia","Vergara","Vian\xed","Villag\xf3mez","Villapinz\xf3n","Villeta","Viot\xe1","Yacop\xed","Zipac\xf3n","Zipaquir\xe1","Caqueza","Fomeque","Gachala","Guayabal De Siquima","Macheta","San Juan De R\xedo Seco","Villa De San Diego De Ubate"],indicativo_fijo:"601"},{id:13,departamento:"C\xf3rdoba",ciudades:["Ayapel","Buenavista","Canalete","Ceret\xe9","Chim\xe1","Chin\xfa","Ci\xe9naga De Oro","Cotorra","La Apartada","Lorica","Los C\xf3rdobas","Momil","Montel\xedbano","Monter\xeda","Mo\xf1itos","Planeta Rica","Pueblo Nuevo","Puerto Escondido","Puerto Libertador","Pur\xedsima","Sahag\xfan","San Andr\xe9s De Sotavento","San Antero","San Bernardo Del Viento","San Carlos","San Jos\xe9 De Ur\xe9","San Pelayo","Tierralta","Tuch\xedn","Valencia","San Andr\xe9s Sotavento"],indicativo_fijo:"604"},{id:14,departamento:"Guain\xeda",ciudades:["In\xedrida","Barranco Minas","Cacahual","La Guadalupe","Mapiripana","Morichal","Pana Pana","Puerto Colombia","San Felipe"],indicativo_fijo:"608"},{id:15,departamento:"Guaviare",ciudades:["Calamar","El Retorno","Miraflores","San Jos\xe9 Del Guaviare"],indicativo_fijo:"608"},{id:16,departamento:"Huila",ciudades:["Acevedo","Agrado","Aipe","Algeciras","Altamira","Baraya","Campoalegre","Colombia","El Pital","El\xedas","Garz\xf3n","Gigante","Guadalupe","Hobo","\xcdquira","Isnos","La Argentina","La Plata","N\xe1taga","Neiva","Oporapa","Paicol","Palermo","Palestina","Pitalito","Rivera","Saladoblanco","San Agust\xedn","Santa Mar\xeda","Suaza","Tarqui","Tello","Teruel","Tesalia","Timan\xe1","Villavieja","Yaguar\xe1","Iquira","Pital"],indicativo_fijo:"608"},{id:17,departamento:"La Guajira",ciudades:["Albania","Barrancas","Dibulla","Distracci\xf3n","El Molino","Fonseca","Hatonuevo","La Jagua Del Pilar","Maicao","Manaure","Riohacha","San Juan Del Cesar","Uribia","Urumita","Villanueva"],indicativo_fijo:"605"},{id:18,departamento:"Magdalena",ciudades:["Algarrobo","Aracataca","Ariguan\xed","Cerro De San Antonio","Chibolo","Chibolo","Ci\xe9naga","Concordia","El Banco","El Pi\xf1\xf3n","El Ret\xe9n","Fundaci\xf3n","Guamal","Nueva Granada","Pedraza","Piji\xf1o Del Carmen","Pivijay","Plato","Pueblo Viejo","Remolino","Sabanas De San \xc1ngel","Salamina","San Sebasti\xe1n De Buenavista","San Zen\xf3n","Santa Ana","Santa B\xe1rbara De Pinto","Santa Marta","Sitionuevo","Tenerife","Zapay\xe1n","Zona Bananera","Cerro San Antonio","El Pi\xf1on","Puebloviejo","Sabanas De San Angel"],indicativo_fijo:"605"},{id:19,departamento:"Meta",ciudades:["Acac\xedas","Barranca De Up\xeda","Cabuyaro","Castilla La Nueva","Cubarral","Cumaral","El Calvario","El Castillo","El Dorado","Fuente De Oro","Granada","Guamal","La Macarena","La Uribe","Lejan\xedas","Mapirip\xe1n","Mesetas","Puerto Concordia","Puerto Gait\xe1n","Puerto Lleras","Puerto L\xf3pez","Puerto Rico","Restrepo","San Carlos De Guaroa","San Juan De Arama","San Juanito","San Mart\xedn","Villavicencio","Uribe","Vistahermosa"],indicativo_fijo:"608"},{id:20,departamento:"Nari\xf1o",ciudades:["Aldana","Ancuy\xe1","Arboleda","Barbacoas","Bel\xe9n","Buesaco","Chachag\xfc\xed","Col\xf3n","Consac\xe1","Contadero","C\xf3rdoba","Cuaspud","Cumbal","Cumbitara","El Charco","El Pe\xf1ol","El Rosario","El Tabl\xf3n","El Tambo","Francisco Pizarro","Funes","Guachucal","Guaitarilla","Gualmat\xe1n","Iles","Imu\xe9s","Ipiales","La Cruz","La Florida","La Llanada","La Tola","La Uni\xf3n","Leiva","Linares","Los Andes","Mag\xfc\xed Pay\xe1n","Mallama","Mosquera","Nari\xf1o","Olaya Herrera","Ospina","Pasto","Policarpa","Potos\xed","Providencia","Puerres","Pupiales","Ricaurte","Roberto Pay\xe1n","Samaniego","San Bernardo","San Jos\xe9 De Alb\xe1n","San Lorenzo","San Pablo","San Pedro De Cartago","Sandon\xe1","Santa B\xe1rbara","Santacruz","Sapuyes","Taminango","Tangua","Tumaco","T\xfaquerres","Yacuanquer","Alb\xe1n","Consaca","El Tabl\xf3n De G\xf3mez","Mag\xfci"],indicativo_fijo:"602"},{id:21,departamento:"Norte de Santander",ciudades:["\xc1brego","Arboledas","Bochalema","Bucarasica","C\xe1chira","C\xe1cota","Chin\xe1cota","Chitag\xe1","Convenci\xf3n","C\xfacuta","Cucutilla","Duran\xeda","El Carmen","El Tarra","El Zulia","Gramalote","Hacar\xed","Herr\xe1n","La Esperanza","La Playa De Bel\xe9n","Labateca","Los Patios","Lourdes","Mutiscua","Oca\xf1a","Pamplona","Pamplonita","Puerto Santander","Ragonvalia","Salazar De Las Palmas","San Calixto","San Cayetano","Santiago","Santo Domingo De Silos","Sardinata","Teorama","Tib\xfa","Toledo","Villa Caro","Villa Del Rosario","Abrego","Cachir\xe1","Durania","La Playa","Salazar","Silos"],indicativo_fijo:"607"},{id:22,departamento:"Putumayo",ciudades:["Col\xf3n","Mocoa","Orito","Puerto As\xeds","Puerto Caicedo","Puerto Guzm\xe1n","Puerto Legu\xedzamo","San Francisco","San Miguel","Santiago","Sibundoy","Valle Del Guamuez","Villagarz\xf3n","Legu\xedzamo"],indicativo_fijo:"608"},{id:23,departamento:"Quindio",ciudades:["Armenia","Buenavista","Calarca","Circasia","C\xf3rdoba","Filandia","G\xe9nova","La Tebaida","Montenegro","Pijao","Quimbaya","Salento"],indicativo_fijo:"606"},{id:24,departamento:"Risaralda",ciudades:["Ap\xeda","Balboa","Bel\xe9n De Umbr\xeda","Dosquebradas","Gu\xe1tica","La Celia","La Virginia","Marsella","Mistrat\xf3","Pereira","Pueblo Rico","Quinch\xeda","Santa Rosa De Cabal","Santuario"],indicativo_fijo:"606"},{id:25,departamento:"San Andr\xe9s y Providencia",ciudades:["Providencia y Santa Catalina Islas","San Andr\xe9s"],indicativo_fijo:"608"},{id:26,departamento:"Santander",ciudades:["Aguada","Albania","Aratoca","Barbosa","Barichara","Barrancabermeja","Betulia","Bol\xedvar","Bucaramanga","Cabrera","California","Capitanejo","Carcas\xed","Cepit\xe1","Cerrito","Charal\xe1","Charta","Chima","Chipat\xe1","Cimitarra","Concepci\xf3n","Confines","Contrataci\xf3n","Coromoro","Curit\xed","El Carmen De Chucur\xed","El Guacamayo","El Pe\xf1\xf3n","El Play\xf3n","El Socorro","Encino","Enciso","Flori\xe1n","Floridablanca","Gal\xe1n","G\xe1mbita","Gir\xf3n","Guaca","Guadalupe","Guapot\xe1","Guavat\xe1","G\xfcepsa","Hato","Jes\xfas Mar\xeda","Jord\xe1n","La Belleza","La Paz","Land\xe1zuri","Lebrija","Los Santos","Macaravita","M\xe1laga","Matanza","Mogotes","Molagavita","Ocamonte","Oiba","Onzaga","Palmar","Palmas Del Socorro","P\xe1ramo","Piedecuesta","Pinchote","Puente Nacional","Puerto Parra","Puerto Wilches","Rionegro","Sabana De Torres","San Andr\xe9s","San Benito","San Gil","San Joaqu\xedn","San Jos\xe9 De Miranda","San Miguel","San Vicente De Chucur\xed","Santa B\xe1rbara","Santa Helena Del Op\xf3n","Simacota","Suaita","Sucre","Surat\xe1","Tona","Valle De San Jos\xe9","V\xe9lez","Vetas","Villanueva","Zapatoca","Gambita","Lebr\xedja","Socorro"],indicativo_fijo:"607"},{id:27,departamento:"Sucre",ciudades:["Buenavista","Caimito","Chal\xe1n","Colos\xf3","Corozal","Cove\xf1as","El Roble","Galeras","Guaranda","La Uni\xf3n","Los Palmitos","Majagual","Morroa","Ovejas","Sampu\xe9s","San Antonio De Palmito","San Benito Abad","San Juan De Betulia","San Marcos","San Onofre","San Pedro","Sinc\xe9","Sincelejo","Sucre","Tol\xfa","Tol\xfa Viejo","Coloso","Palmito","Santiago De Tol\xfa"],indicativo_fijo:"605"},{id:28,departamento:"Tolima",ciudades:["Alpujarra","Alvarado","Ambalema","Anzo\xe1tegui","Armero","Ataco","Cajamarca","Carmen De Apical\xe1","Casabianca","Chaparral","Coello","Coyaima","Cunday","Dolores","El Espinal","Fal\xe1n","Flandes","Fresno","Guamo","Herveo","Honda","Ibagu\xe9","Icononzo","L\xe9rida","L\xedbano","Mariquita","Melgar","Murillo","Natagaima","Ortega","Palocabildo","Piedras","Planadas","Prado","Purificaci\xf3n","Rioblanco","Roncesvalles","Rovira","Salda\xf1a","San Antonio","San Luis","Santa Isabel","Su\xe1rez","Valle De San Juan","Venadillo","Villahermosa","Villarrica","Espinal","Falan"],indicativo_fijo:"608"},{id:29,departamento:"Valle del Cauca",ciudades:["Alcal\xe1","Andaluc\xeda","Ansermanuevo","Argelia","Bol\xedvar","Buenaventura","Buga","Bugalagrande","Caicedonia","Cali","Calima","Candelaria","Cartago","Dagua","El \xc1guila","El Cairo","El Cerrito","El Dovio","Florida","Ginebra","Guacar\xed","Jamund\xed","La Cumbre","La Uni\xf3n","La Victoria","Obando","Palmira","Pradera","Restrepo","Riofr\xedo","Roldanillo","San Pedro","Sevilla","Toro","Trujillo","Tulu\xe1","Ulloa","Versalles","Vijes","Yotoco","Yumbo","Zarzal","Guadalajara De Buga"],indicativo_fijo:"602"},{id:30,departamento:"Vaup\xe9s",ciudades:["Caruru","Mit\xfa","Taraira","Pacoa","Papunaua","Yavarat\xe9"],indicativo_fijo:"608"},{id:31,departamento:"Vichada",ciudades:["Cumaribo","La Primavera","Puerto Carre\xf1o","Santa Rosal\xeda"],indicativo_fijo:"608"}];var V=l(9098);let z=(()=>{class o{transform(e,t,i){return e?t?(t=t.toLocaleLowerCase(),e.filter(i?c=>c[i].toLocaleLowerCase().includes(t):c=>c.toLocaleLowerCase().includes(t))):e:[]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=a.Yjl({name:"search",type:o,pure:!0}),o})();function q(o,n){if(1&o){const e=a.EpF();a.TgZ(0,"li",6),a.NdJ("mousedown",function(){const c=a.CHM(e).$implicit,d=a.oxw();return a.KtG(d.select(c))}),a._uU(1),a.qZA()}if(2&o){const e=n.$implicit;a.xp6(1),a.hij(" ",e.city+", "+e.state," ")}}function w(o,n){if(1&o&&(a.TgZ(0,"p",7),a._uU(1),a.qZA()),2&o){const e=a.oxw();a.xp6(1),a.hij(" ",e.formHelper.getControlErrors(e.controlInstance)," ")}}let E=(()=>{class o{set setDisabled(e){e?this.search.disable():this.search.enable()}constructor(e,t,i){this._fb=e,this.formHelper=t,this._destroyRef=i,this.onChange=c=>c,this.onTouch=()=>{},this.onValidatorChange=()=>{},this.label="",this.controlInstance=null,this.data=this._mapRegionToFlatArr(R),this.subscriptions=[],this.disabled=!1,this.search=this._fb.control(""),this.isValid=!1,this._subsToValueChanges(),this._destroyRef.onDestroy(()=>{this.subscriptions.forEach(c=>c.unsubscribe())})}writeValue(e){null!==e&&(this.search.setValue(e),this.onChange(e))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){e?this.search.disable():this.search.enable()}validate(e){return this.controlInstance=e,null}registerOnValidatorChange(e){this.onValidatorChange=e}_subsToValueChanges(){let e=this.search.value.length;const t=this.search.valueChanges.subscribe({next:i=>{e>i.length&&(this.isValid=!1),0===i.length&&(this.isValid=!1),e=i.length}});this.subscriptions.push(t)}_mapRegionToFlatArr(e){return e.map(t=>[...t.ciudades.map(c=>({city:c,state:t.departamento}))]).flat()}markAsTouched(){this.controlInstance?.markAsDirty(),this.onTouch(),this.onValidatorChange()}select(e){this.search.setValue(`${e.state}, ${e.city}`),this.onChange(`${e.state}, ${e.city}`),this.isValid=!0}}return o.\u0275fac=function(e){return new(e||o)(a.Y36(r.qu),a.Y36(V.k),a.Y36(a.ktI))},o.\u0275cmp=a.Xpm({type:o,selectors:[["c-city-input"]],inputs:{label:"label",setDisabled:"setDisabled"},features:[a._Bn([{provide:r.JU,useExisting:(0,a.Gpc)(()=>o),multi:!0},{provide:r.Cf,useExisting:(0,a.Gpc)(()=>o),multi:!0}])],decls:8,vars:12,consts:[[1,"input-container"],[1,"input-label"],["type","search","autocomplete","off",1,"input",3,"formControl","blur"],[1,"cities__options"],["class","cities__option",3,"mousedown",4,"ngFor","ngForOf"],["class","input-error",4,"ngIf"],[1,"cities__option",3,"mousedown"],[1,"input-error"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0)(1,"label",1),a._uU(2),a.qZA(),a.TgZ(3,"input",2),a.NdJ("blur",function(){return t.markAsTouched()}),a.qZA(),a.TgZ(4,"ul",3),a.YNc(5,q,2,1,"li",4),a.ALo(6,"search"),a.qZA(),a.YNc(7,w,2,1,"p",5),a.qZA()),2&e&&(a.ekj("focus",t.search.value)("error",null!==t.controlInstance?t.formHelper.checkControlErrors(t.controlInstance):!t.isValid&&t.search.value.length>0),a.xp6(2),a.Oqu(t.label?t.label:"Ciudad"),a.xp6(1),a.Q6J("formControl",t.search),a.xp6(2),a.Q6J("ngForOf",a.Dn7(6,8,t.data,t.search.value,"city")),a.xp6(2),a.Q6J("ngIf",null!==t.controlInstance&&t.formHelper.checkControlErrors(t.controlInstance)))},dependencies:[s.sg,s.O5,r.Fj,r.JJ,r.oH,z],styles:[".input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input-container[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{font-size:.9rem}.input-container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:var(--bg);border:none;padding:.4rem .6rem;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:1px solid var(--primary);color:var(--text);border-radius:.3rem;transition:border .3s ease}.input-container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus{outline:none;border-radius:.3rem;border:1px solid var(--primary)}.input-container.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid var(--error)}.input-container.error[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{font-size:.9rem;color:var(--error)}.input-container[_ngcontent-%COMP%]{position:relative}.input[_ngcontent-%COMP%]:focus + .cities__options[_ngcontent-%COMP%]{display:block}.cities__options[_ngcontent-%COMP%]:active{display:block}.cities__options[_ngcontent-%COMP%]{filter:drop-shadow(0 0 4px 0,0,0,.5);position:absolute;z-index:20;background-color:#37474f;padding:0;border:2px solid #263238;width:100%;border-radius:5px;max-height:300px;bottom:0;overflow-y:scroll;display:none}.cities__option[_ngcontent-%COMP%]{z-index:40;background-color:#37474f;margin:0;padding:.4rem .8rem;border-bottom:1px solid #263238;cursor:pointer}.cities__option[_ngcontent-%COMP%]:hover{background-color:#455a64}.input-container.error[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{color:var(--error)}"]}),o})();var J=l(4641),k=l(4929),I=l(9768);function U(o,n){if(1&o&&(a.TgZ(0,"option",12),a._uU(1),a.qZA()),2&o){const e=n.$implicit;a.Q6J("value",e.key),a.xp6(1),a.hij(" ",e.value," ")}}function H(o,n){if(1&o){const e=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.deleteFromArr.emit())}),a.O4$(),a.TgZ(1,"svg",14),a._UZ(2,"path",15),a.qZA()()}}function N(o,n){if(1&o){const e=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.saveToServer.emit())}),a.O4$(),a.TgZ(1,"svg",14),a._UZ(2,"path",17),a.qZA()()}}let Q=(()=>{class o{constructor(){this.deleteFromArr=new a.vpe,this.saveToServer=new a.vpe,this.roomTypes={Suite:"Suite",JuniorSuite:"Junior suite",GranSuite:"Gran suite",Individual:"Individual",Double:"Doble",Quadruple:"Cuadruple"}}castToFormGroup(e){return e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Xpm({type:o,selectors:[["room-form"]],inputs:{form:"form",updateView:"updateView"},outputs:{deleteFromArr:"deleteFromArr",saveToServer:"saveToServer"},decls:13,vars:7,consts:[[1,"room-form",3,"formGroup"],[1,"form-section-1"],["formControlName","baseCost","label","Costo(Sin iva)*"],["formControlName","taxes","label","Impuestos(%)*",3,"allowDecimals"],["label","Tipos de habitaci\xf3n:*","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","location",1,"form-section-2"],["label","Piso*","formControlName","floor"],["formControlName","room","label","C\xf3digo del cuarto*"],[1,"actions"],["type","button","class","btn deleteRoomBtn",3,"click",4,"ngIf"],["type","button","class","btn saveBtn",3,"click",4,"ngIf"],[3,"value"],["type","button",1,"btn","deleteRoomBtn",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6",2,"width","36px"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],["type","button",1,"btn","saveBtn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"]],template:function(e,t){if(1&e&&(a.TgZ(0,"form",0)(1,"div",1),a._UZ(2,"c-number-input",2)(3,"c-number-input",3),a.TgZ(4,"c-select-input",4),a.YNc(5,U,2,2,"option",5),a.ALo(6,"keyvalue"),a.qZA()(),a.TgZ(7,"form",6),a._UZ(8,"c-number-input",7)(9,"c-input",8),a.qZA(),a.TgZ(10,"div",9),a.YNc(11,H,3,0,"button",10),a.YNc(12,N,3,0,"button",11),a.qZA()()),2&e){let i,c;a.Q6J("formGroup",t.castToFormGroup(t.form)),a.xp6(3),a.Q6J("allowDecimals",!0),a.xp6(2),a.Q6J("ngForOf",a.lcZ(6,5,t.roomTypes)),a.xp6(6),a.Q6J("ngIf",!(null!=(i=t.form.get("_id"))&&i.value)),a.xp6(1),a.Q6J("ngIf",!(null!=(c=t.form.get("_id"))&&c.value)&&t.updateView())}},dependencies:[s.sg,s.O5,r._Y,r.YN,r.Kr,r.JJ,r.JL,r.sg,r.u,r.x0,_.D,k.c,I.p,s.Nd],styles:[".room-form[_ngcontent-%COMP%]{padding:1rem;border-radius:.5rem;border:1px solid #37474F;display:flex;flex-direction:column;gap:1rem}.form-section-1[_ngcontent-%COMP%], .form-section-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;gap:.5rem}.btn[_ngcontent-%COMP%]{border:none;border-radius:.4rem;padding:.2rem .4rem;transition:background-color .3s ease}.deleteRoomBtn[_ngcontent-%COMP%]{background-color:var(--error);color:var(--text)}.deleteRoomBtn[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.saveBtn[_ngcontent-%COMP%]{background-color:var(--success);color:var(--text)}.saveBtn[_ngcontent-%COMP%]:hover{background-color:#2e7d32}"]}),o})();function Y(o,n){if(1&o){const e=a.EpF();a.ynx(0),a.TgZ(1,"room-form",18),a.NdJ("deleteFromArr",function(){const c=a.CHM(e).index,d=a.oxw();return a.KtG(d.deleteRoomFromArr(c))})("saveToServer",function(){const c=a.CHM(e).$implicit,d=a.oxw();return a.KtG(d.createRoom(c.value))}),a.qZA(),a.BQk()}if(2&o){const e=n.$implicit,t=a.oxw();a.xp6(1),a.Q6J("form",e)("updateView",t.updateView)}}function $(o,n){if(1&o&&(a.TgZ(0,"button",26),a.O4$(),a.TgZ(1,"svg",27),a._UZ(2,"path",28),a.qZA()()),2&o){const e=a.oxw().$implicit;a.MGl("routerLink","/priv/room/update/",e._id,"")}}function K(o,n){if(1&o){const e=a.EpF();a.TgZ(0,"button",29),a.NdJ("click",function(){a.CHM(e);const i=a.oxw().$implicit,c=a.oxw(2);return a.KtG(c.deleteRoom(i._id))}),a.O4$(),a.TgZ(1,"svg",30),a._UZ(2,"path",31),a.qZA()()}}const W=function(o,n,e){return{reserved:o,"not-reserved":n,deactivated:e}};function X(o,n){if(1&o&&(a.TgZ(0,"div",21)(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"p",22),a._uU(4),a.ALo(5,"slice"),a.qZA(),a.TgZ(6,"div",23),a.YNc(7,$,3,1,"button",24),a.YNc(8,K,3,0,"button",25),a.qZA()()),2&o){const e=n.$implicit,t=a.oxw(2);a.Q6J("ngClass",a.kEZ(10,W,e.reserved,!e.reserved,!e.active)),a.xp6(2),a.hij("Piso: ",e.location.floor,""),a.xp6(1),a.s9C("pTooltip",e.location.room),a.xp6(1),a.hij("Habitaci\xf3n: ",a.Dn7(5,6,e.location.room,0,5),""),a.xp6(3),a.Q6J("ngIf",t.updateView()),a.xp6(1),a.Q6J("ngIf",t.updateView())}}function aa(o,n){if(1&o&&(a.TgZ(0,"div",19),a.YNc(1,X,9,14,"div",20),a.qZA()),2&o){const e=a.oxw();let t;a.xp6(1),a.Q6J("ngForOf",null==(t=e.specificHotelService.hotel())?null:t.rooms)}}let v=(()=>{class o{constructor(){this.fb=(0,a.f3M)(r.qu),this.router=(0,a.f3M)(u.F0),this.ar=(0,a.f3M)(u.gz),this.notifications=(0,a.f3M)(j.g),this.hotelService=(0,a.f3M)(b),this.specificHotelService=(0,a.f3M)(F),this.roomService=(0,a.f3M)(Z.X),this.updateView=(0,a.tdS)(!1),this.hotelId=(0,a.tdS)(null),this.lastUpdated=(0,a.Flj)(()=>`${this.specificHotelService.hotel()?.updatedBy.name} ${this.specificHotelService.hotel()?.updatedBy.lastName} < ${this.specificHotelService.hotel()?.updatedBy.email} >`),this.form=this.fb.group({name:["",r.kI.required],location:["",r.kI.required],address:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],rooms:this.fb.array([]),enabled:[!0,r.kI.required]})}get roomsArr(){return this.form.get("rooms")}ngOnInit(){const e=this.router.url.includes("update");this.updateView.set(e),e?this.fetchHotelData():this.createRoomForm()}fetchHotelData(){this.ar.params.pipe((0,B.w)(({id:e})=>(this.hotelId.set(e),this.specificHotelService.getHotel(e)))).subscribe({next:()=>{this.form.reset(),this.specificHotelService.hotel()&&this.form.patchValue(this.specificHotelService.hotel()),this.roomsArr.clear()}})}createRoomForm(e){const t=this.fb.group({_id:[null],location:this.fb.group({floor:["",r.kI.required],room:["",r.kI.required]}),baseCost:["",r.kI.required],taxes:["",r.kI.required],type:["",r.kI.required]});e&&t.patchValue(e),this.roomsArr.push(t)}save(){this.form.invalid?this.form.markAllAsTouched():this.updateView()?this._updateHotel():this._createHotel()}_createHotel(){this.hotelService.createHotel(this._mapBody({...this.form.value})).subscribe({next:()=>{this.notifications.create({severity:"success",summary:"Hotel creado correctamente"}),this.router.navigateByUrl("/priv/hotel/list")}})}_updateHotel(){null!==this.hotelId()&&this.hotelService.updateHotel(this.hotelId(),this._mapBody({...this.form.value})).subscribe({next:()=>{this.notifications.create({severity:"success",summary:"Hotel actualizado correctamente"}),this.router.navigateByUrl("/priv/hotel/list")}})}deleteRoomFromArr(e){this.roomsArr.removeAt(e)}createRoom(e){const t=structuredClone(e);delete t._id,t.hotel=this.hotelId(),this.roomService.create(t).subscribe({next:()=>{this.notifications.create({severity:"success",summary:"Habitaci\xf3n creada correctamente"}),this.fetchHotelData()}})}deleteRoom(e){this.roomService.delete(e).subscribe({next:()=>{this.notifications.create({severity:"success",summary:"Habitaci\xf3n eliminada correctamente"}),this.fetchHotelData()}})}_mapBody(e){return this.updateView()&&delete e.rooms,this.updateView()||(e.rooms=this.roomsArr.value.map(t=>(delete t._id,t))),e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Xpm({type:o,selectors:[["app-create"]],decls:26,vars:6,consts:[[1,"content-container"],[1,"form-wrapper"],[1,"img-wrapper"],["src","/assets/img/hotel.svg","width","350","alt","illustration","height","270"],[3,"formGroup","ngSubmit"],[1,"update-msg"],[1,"form-section-1"],["formControlName","name","label","Nombre*"],["formControlName","location","label","Ubicaci\xf3n*"],["formControlName","address","label","Direcci\xf3n*"],["formControlName","email","label","Correo electr\xf3nico*"],["formControlName","enabled","label","Activo*","inputId","hotel-status"],[1,"form-section-2"],["type","button",1,"primary-button",3,"click"],["formArrayName","rooms",1,"rooms"],[4,"ngFor","ngForOf"],["class","created-rooms",4,"ngIf"],["type","submit",1,"primary-button","saveBtn"],[3,"form","updateView","deleteFromArr","saveToServer"],[1,"created-rooms"],["class","room",3,"ngClass",4,"ngFor","ngForOf"],[1,"room",3,"ngClass"],[3,"pTooltip"],[1,"actions"],["type","button","class","btn editBtn",3,"routerLink",4,"ngIf"],["type","button","class","btn deleteBtn",3,"click",4,"ngIf"],["type","button",1,"btn","editBtn",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","strokeWidth","{1.5}","stroke","currentColor",2,"width","20"],["strokeLinecap","round","strokeLinejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"],["type","button",1,"btn","deleteBtn",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",2,"width","20"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(e,t){1&e&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"form",4),a.NdJ("ngSubmit",function(){return t.save()}),a.TgZ(5,"h1"),a._uU(6),a.qZA(),a.TgZ(7,"p",5)(8,"small"),a._uU(9),a.qZA()(),a.TgZ(10,"div",6),a._UZ(11,"c-input",7)(12,"c-city-input",8)(13,"c-input",9)(14,"c-email-input",10)(15,"c-checkbox-input",11),a.qZA(),a.TgZ(16,"div",12)(17,"h2"),a._uU(18," Habitaciones "),a.TgZ(19,"button",13),a.NdJ("click",function(){return t.createRoomForm()}),a._uU(20," Agregar "),a.qZA()(),a.TgZ(21,"div",14),a.YNc(22,Y,2,2,"ng-container",15),a.qZA(),a.YNc(23,aa,2,1,"div",16),a.qZA(),a.TgZ(24,"button",17),a._uU(25),a.qZA()()()()),2&e&&(a.xp6(4),a.Q6J("formGroup",t.form),a.xp6(2),a.hij("",t.updateView()?"Actualizar":"Crear"," hotel"),a.xp6(3),a.hij("Actualizado por ultima vez por ",t.lastUpdated(),""),a.xp6(13),a.Q6J("ngForOf",t.roomsArr.controls),a.xp6(1),a.Q6J("ngIf",t.updateView()),a.xp6(2),a.hij("",t.updateView()?"Actualizar":"Crear"," Hotel"))},dependencies:[s.mk,s.sg,s.O5,u.rH,r._Y,r.JJ,r.JL,r.sg,r.u,r.CE,_.D,G.G,E,J.o,m.u,Q,s.OU],styles:["h1[_ngcontent-%COMP%]{text-align:center}.update-msg[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}.form-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{background-color:#455a64;padding:1rem;border-radius:.5rem;display:none;height:310px}@media (min-width: 800px){.form-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{display:block}}form[_ngcontent-%COMP%]{flex:1 1 100%}.created-rooms[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-top:1rem}.form-section-1[_ngcontent-%COMP%]{width:100%;flex:1 1 100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.form-section-2[_ngcontent-%COMP%]{margin-top:1.5rem}.form-section-2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:row;gap:2rem;align-items:center}.form-section-2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.2rem 1.5rem}.rooms[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.saveBtn[_ngcontent-%COMP%]{width:100%;margin-top:2rem}.reserved[_ngcontent-%COMP%]{background-color:var(--error)}.not-reserved[_ngcontent-%COMP%]{background-color:var(--success)}.deactivated[_ngcontent-%COMP%]{background-color:#78909c}.room[_ngcontent-%COMP%]{padding:1rem;border-radius:.5rem}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;gap:1rem;margin-top:.5rem}.btn[_ngcontent-%COMP%]{color:var(--text);border:none;border-radius:.4rem;padding:.2rem .4rem;transition:background-color .3s ease}.deleteBtn[_ngcontent-%COMP%]{background-color:var(--error)}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.editBtn[_ngcontent-%COMP%]{background-color:#1565c0}.editBtn[_ngcontent-%COMP%]:hover{background-color:#1976d2}"]}),o})();var p=l(1841);const ea=[{path:"list",component:O,canActivate:[p.WL]},{path:"create",component:v,canActivate:[p.WL]},{path:"update/:id",component:v,canActivate:[p.WL]}];let oa=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[u.Bz.forChild(ea),u.Bz]}),o})();var ta=l(8524);let na=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({imports:[s.ez,oa,r.UX,ta.m,m.z]}),o})()}}]);