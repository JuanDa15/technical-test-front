"use strict";(self.webpackChunktechnical_test_front=self.webpackChunktechnical_test_front||[]).push([[406],{1406:(A,p,r)=>{r.r(p),r.d(p,{HomeModule:()=>T});var c=r(6814),a=r(3057),t=r(4946),d=r(5516),u=r(9862);let h=(()=>{class e{get hotels$(){return this._hotels.asReadonly()}constructor(o){this._http=o,this._URL=`${d.N.API}api/hotels`,this._hotels=(0,t.tdS)([])}getHotels(){this._http.get(this._URL).subscribe({next:o=>{this._hotels.set(o.data.data)}})}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(u.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=r(95),f=r(8735),g=r(4929),C=r(1069);let v=(()=>{class e{constructor(){this.roomMapping={"=0":"# habitaciones disponibles.","=1":"# habitaci\xf3n disponible.",other:"# habitaciones disponibles."}}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["hotel-card"]],inputs:{hotel:"hotel"},decls:16,vars:8,consts:[[1,"hotel"],[1,"actions"],[1,"actions-btn",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","width","24"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"]],template:function(o,i){1&o&&(t.TgZ(0,"article",0)(1,"header")(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"p")(5,"small"),t._uU(6),t.qZA()()(),t.TgZ(7,"main")(8,"p"),t._uU(9),t.ALo(10,"i18nPlural"),t.qZA()(),t.TgZ(11,"footer",1)(12,"a",2),t.O4$(),t.TgZ(13,"svg",3),t._UZ(14,"path",4)(15,"path",5),t.qZA()()()()),2&o&&(t.xp6(3),t.Oqu(i.hotel.name),t.xp6(3),t.AsE("",i.hotel.location,", ",i.hotel.address,""),t.xp6(3),t.Oqu(t.xi3(10,5,i.hotel.availableRooms,i.roomMapping)),t.xp6(3),t.MGl("routerLink","/hotel/detail/",i.hotel._id,""))},dependencies:[a.rH,c.Gx],styles:[".hotel[_ngcontent-%COMP%]{border:1px solid #37474F;padding:1rem;border-radius:.5rem}.hotel[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary);padding-bottom:.5rem}.hotel[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary)}.hotel[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.actions-btn[_ngcontent-%COMP%]{color:var(--text);transition:color .3s ease}.actions-btn[_ngcontent-%COMP%]:hover{color:var(--primary)}"]}),e})();function M(e,n){1&e&&t._UZ(0,"hotel-card",10),2&e&&t.Q6J("hotel",n.$implicit)}let y=(()=>{class e{constructor(){this.hotelService=(0,t.f3M)(h),this.fb=(0,t.f3M)(s.qu),this.router=(0,t.f3M)(a.F0),this.ar=(0,t.f3M)(a.gz),this.form=this.fb.group({location:[""],checkIn:[""],checkOut:[""],travelers:[""]})}ngOnInit(){this.ar.queryParams.subscribe(o=>{this.form.patchValue(o),this.hotelService.getHotels()})}search(){this.form.invalid?this.form.markAllAsTouched():this.router.navigate(["/"],{queryParams:{...this._getParams({...this.form.value})}})}_getParams(o){const i={},l=structuredClone(o);return Object.keys(l).forEach(m=>{l[m]&&(i[m]=l[m])}),i}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:13,vars:2,consts:[[1,"content-container"],[1,"filters-form",3,"formGroup","ngSubmit"],[1,"filters"],["label","Ciudad de destino*","formControlName","location"],["label","Fecha de entrada*","formControlName","checkIn","type","date"],["label","Fecha de salida*","formControlName","checkOut","type","date"],["label","Cantidad de personas*","formControlName","travelers"],["type","submit",1,"primary-button"],[1,"hotels"],[3,"hotel",4,"ngFor","ngForOf"],[3,"hotel"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"h1"),t._uU(2," Lista de Hoteles "),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.search()}),t.TgZ(4,"div",2),t._UZ(5,"c-city-input",3)(6,"c-date-input",4)(7,"c-date-input",5)(8,"c-number-input",6),t.qZA(),t.TgZ(9,"button",7),t._uU(10," Buscar "),t.qZA()(),t.TgZ(11,"section",8),t.YNc(12,M,1,1,"hotel-card",9),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("formGroup",i.form),t.xp6(9),t.Q6J("ngForOf",i.hotelService.hotels$()))},dependencies:[c.sg,f.Q,g.c,C.y,s._Y,s.JJ,s.JL,s.sg,s.u,v],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.hotels[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:1rem}.filters-form[_ngcontent-%COMP%]{margin-bottom:2rem}.filters[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),e})();const b=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(o,i){1&o&&t._UZ(0,"app-list")},dependencies:[y]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(b),a.Bz]}),e})();var H=r(2492),P=r(3259),Z=r(8524);let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,O,H.HotelModule,P.z,Z.m,s.UX]}),e})()}}]);