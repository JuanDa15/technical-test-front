<section class="content-container">
 <ng-container *ngIf="!loading; else loader">
  <h1>Reserva No.{{reservationId}}</h1>

  <section class="card">
    <h2>Hotel</h2>
    <hr>
    <p>
      <b>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
        </svg>
        
        {{detailService.reservation$()?.hotel?.name}} < {{detailService.reservation$()?.hotel?.email }} >
      </b>
    </p>
    <p>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z" />
      </svg>
      
      {{detailService.reservation$()?.hotel?.location}}
    </p>
    <p>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
      </svg>
      
      {{detailService.reservation$()?.hotel?.address}}
    </p>
  </section>

  <section class="card">
    <h2>Habitación</h2>
    <hr>
    <p>
     <b>Ubicación:</b> Piso {{detailService.reservation$()?.room?.location?.floor}}, Habitación {{detailService.reservation$()?.room?.location?.room}}
    </p>
    <p>
      <span style="display: inline-flex; align-items: center; gap: 0.5rem;">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
        </svg> ( noche )
      </span>      

      {{calculateTaxes(detailService.reservation$()!.room) | currency:'COP':'symbol':'0.0-0' }}
    </p>
    <p>
      <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="24" style="enable-background:new 0 0 122.88 99.94" viewBox="0 -11.47 122.88 122.88" fill="currentColor"><path d="M4.22 67.36h114.31v-4.67c0-1.13-.22-2.18-.61-3.12-.42-1-1.04-1.89-1.81-2.66-.47-.47-1-.9-1.57-1.28-.58-.39-1.2-.73-1.85-1.02-1.75-.38-3.49-.74-5.22-1.08-1.74-.34-3.49-.66-5.25-.96-.08-.01-.14-.02-.22-.04-.89-.15-1.74-.29-2.55-.42-.81-.13-1.67-.26-2.57-.4h-.02c-6.12-.78-12.22-1.38-18.31-1.78-6.1-.4-12.17-.6-18.2-.61a273.42 273.42 0 0 0-21.41.82h-.02c-3.34.31-6.67.7-10.01 1.15-3.33.45-6.67.98-10.03 1.57l-.37.09c-.07.02-.14.03-.2.03-.06.01-.12.01-.18.01-1.57.28-3.18.59-4.84.92-1.61.32-3.22.66-4.82 1.01-.4.22-.78.47-1.14.73-.36.27-.71.56-1.02.87-.67.67-1.2 1.44-1.56 2.3-.34.81-.53 1.71-.53 2.69v5.85zM14.2 0h92.99c1.21 0 2.37.24 3.43.68a9.23 9.23 0 0 1 2.92 1.95c.83.83 1.5 1.82 1.95 2.92.44 1.06.68 2.22.68 3.43v42.69c.51.3 1.01.63 1.47.99.52.4 1.01.82 1.46 1.27 1.16 1.16 2.1 2.51 2.73 4.03.6 1.43.93 3.02.93 4.74v6.09c.03.1.06.2.08.3v.02c.02.13.03.25.03.37 0 .13-.01.26-.04.39-.02.1-.05.2-.08.3v27.66c0 .58-.24 1.11-.62 1.49-.38.38-.91.62-1.49.62h-4.35c-.49 0-.94-.17-1.3-.45-.36-.28-.63-.68-.74-1.14-.8-2.3-1.61-4.12-2.48-5.54-.86-1.4-1.78-2.4-2.84-3.11-1.07-.71-2.35-1.16-3.9-1.43-1.58-.28-3.42-.37-5.61-.36l-79.76.1h-.04c-1.57-.03-2.86.17-3.94.59a6.847 6.847 0 0 0-2.66 1.86c-.81.9-1.49 2.05-2.11 3.39-.63 1.37-1.2 2.93-1.77 4.64-.14.44-.42.79-.77 1.04-.33.24-.73.38-1.14.4-.03.01-.06.01-.09.01H2.11c-.58 0-1.11-.24-1.49-.62A2.11 2.11 0 0 1 0 97.83V61.52c0-1.57.3-3.01.84-4.31.58-1.38 1.43-2.61 2.49-3.67.3-.3.63-.6.98-.88.3-.24.6-.47.92-.68V8.89c0-1.21.24-2.36.68-3.4A8.965 8.965 0 0 1 10.78.68 8.88 8.88 0 0 1 14.2 0zm92.99 4.22H14.2c-.65 0-1.27.13-1.84.36-.59.24-1.11.59-1.55 1.02-.43.42-.78.94-1.02 1.5-.22.55-.34 1.15-.34 1.79v41.06c.3-.1.6-.18.91-.26.49-.13.98-.24 1.47-.32l2.22-.39c.6-.1 1.24-.21 1.9-.31V38.19a11.688 11.688 0 0 1 3.44-8.28 11.688 11.688 0 0 1 8.28-3.44h19.82a11.688 11.688 0 0 1 8.28 3.44 11.688 11.688 0 0 1 3.44 8.28v6.69c.7-.01 1.4-.01 2.11-.01v-6.68a11.688 11.688 0 0 1 3.44-8.28 11.688 11.688 0 0 1 8.28-3.44h19.82a11.688 11.688 0 0 1 8.28 3.44 11.688 11.688 0 0 1 3.44 8.28v10.34c.75.11 1.55.24 2.41.38.95.15 1.86.3 2.74.45.45.08.91.17 1.37.28.29.07.57.14.84.22V8.98c0-.64-.13-1.25-.36-1.81-.24-.58-.6-1.1-1.04-1.55-.44-.44-.97-.8-1.54-1.04-.56-.23-1.17-.36-1.81-.36zM43.21 45.56c2.01-.15 4.03-.28 6.08-.38 1.89-.1 3.8-.17 5.71-.22v-6.77c0-1.01-.2-1.98-.57-2.86-.38-.92-.94-1.74-1.64-2.44a7.707 7.707 0 0 0-2.44-1.64c-.88-.37-1.85-.57-2.86-.57H27.67c-1.01 0-1.98.2-2.86.57-.92.38-1.74.94-2.44 1.64-.69.69-1.25 1.52-1.64 2.44-.37.88-.57 1.85-.57 2.86V48c1.62-.24 3.26-.46 4.94-.68 1.81-.23 3.61-.44 5.39-.64.69-.08 1.43-.17 2.2-.25.72-.08 1.47-.15 2.27-.23 1.36-.13 2.71-.25 4.04-.36 1.37-.09 2.77-.19 4.21-.28zm22.33-.66a263.39 263.39 0 0 1 7.64.25h.01c2.19.08 4.33.18 6.41.3s4.11.27 6.05.44c2.82.25 5.55.55 8.14.9 2.32.32 4.52.68 6.58 1.08v-9.68c0-1.01-.2-1.98-.57-2.86-.38-.92-.94-1.74-1.64-2.44a7.707 7.707 0 0 0-2.44-1.64c-.88-.37-1.85-.57-2.86-.57H73.05c-1.01 0-1.98.2-2.86.57-.92.38-1.74.94-2.44 1.64-.69.69-1.25 1.52-1.64 2.44-.37.88-.57 1.85-.57 2.86v6.71zm53 26.69H4.22v24.13h1.43c.56-1.58 1.14-3.05 1.79-4.36.7-1.4 1.49-2.64 2.45-3.71 1.14-1.28 2.48-2.27 4.09-2.93 1.61-.65 3.49-.98 5.75-.93l79.69-.1c2.57 0 4.77.12 6.69.49 1.95.37 3.63 1 5.14 2 1.4.93 2.6 2.16 3.68 3.77 1.03 1.54 1.95 3.43 2.83 5.76h.76V71.59h.02z"/></svg>

      {{roomTypes[detailService.reservation$()?.room!.type]}}
    </p>
  </section>

  <section class="card">
    <h2>
      Pasajeros
    </h2>
    <hr>
    <div class="travelers">
      <div  *ngFor="let item of detailService.reservation$()?.travelers">
        <p><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
  
        </svg>
          {{item.name}} {{item.lastName}}
        </p>
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
            <path stroke-linecap="round" d="M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25" />
          </svg>
          {{item.email}}        
        </p>
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z" />
          </svg>
          {{item.documentType}}, {{item.document}}
        </p>
        <p>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
          </svg>
          {{item.phone}}
        </p>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>Contacto de emergencia</h2>
    <hr>
    <p>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />

      </svg>
        {{detailService.reservation$()?.emergencyContact?.name}}
    </p>
    <p>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
      </svg>
      {{detailService.reservation$()?.emergencyContact?.phone}}
    </p>
  </section>
  <section class="card">
    <h2>Reserva</h2>
    <hr>
    <p>Fecha de inicio: {{detailService.reservation$()?.startDate | date:'yyyy/MM/dd hh:mm a'}}</p>
    <p>Fecha de finalización: {{detailService.reservation$()?.startDate | date:'yyyy/MM/dd hh:mm a'}}</p>
    <p>Días totales: {{calculateTotalDays(detailService.reservation$())}}</p>

    <p style="margin-top: 2rem;display: flex;justify-content: space-between;font-size: 1.5rem;">Total: <span style="font-size: 3rem;"><b>{{getTotal(detailService.reservation$())| currency:'COP':'symbol':'0.0-0'}}</b></span></p>
  </section>
 </ng-container>
</section>

<ng-template #loader>
  <loader />
</ng-template>